<!DOCTYPE html>
<html lang="lt">
<head>
<meta charset="UTF-8">
<title>Mano DI modelis</title>

 <!-- Tensorflow.js -->
 <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
 <!-- Teachable Machine biblioteka -->
 <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest"></script>

<link rel="stylesheet" href="style_virsus.css">
<link rel="stylesheet" href="style_vidus.css">
<link rel="stylesheet" href="style_table.css">
</head>

<body  >  
   <section  class="navigacijos_meniu">  
             <div style="background-color: rgb(194, 194, 194);" class="nav_text" ><a href="index.html"><img src="image/home.png" class="img"></a></div>
             <div style="background-color: rgb(194, 194, 194);">
    <a href="pirmas.html" class="nav_text a">Apie mus</a>
  </div>

  <div style="background-color: rgb(194, 194, 194);">
    <a href="blokas1.html" class="nav_text">Blokas1</a>
  </div>

  <div style="background-color: rgb(194, 194, 194);">
    <a href="blokas2.html" class="nav_text">Blokas2</a>
  </div>

  <div style="background-color: rgb(228, 228, 228);">
    <a href="kontaktai.html" class="nav_text">Kontaktai</a>
  </div>
</section>

 <h2>YRA SUKURTAS APMOKYTAS DI MODELIS, KURIS ATPAŽINS IŠ FOTO KAS ĮKELTA: šuo, katė ar arklys!   Įkelk nuotrauką</h2>
  <h2>   Įkelk nuotrauką  iš failo: </h2>
<input type="file" id="imageInput">

<p id="result"></p>

<img id="preview" style="max-width:300px; display:block; margin-top:20px;">

   
<script>
  const URL = "./";  // modelio failų vieta 
  let model;
  async function loadModel() {
  model = await tmImage.load(URL + "model.json", URL + "metadata.json");
  }

  loadModel();

  document.getElementById("imageInput").addEventListener("change", async (event) => {
    const file = event.target.files[0];
    const img = document.getElementById("preview");
   img.src = URL.createObjectURL(file);


    img.onload = async () => {
      const prediction = await model.predict(img);
      document.getElementById("result").innerText =
        prediction.map(p => `${p.className}: ${p.probability.toFixed(2)}`).join("\n");
    };
  });
</script>

</body>
</html>
